"use strict";(self.webpackChunknuevo=self.webpackChunknuevo||[]).push([[942],{942:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var s=t(5861),c=t(1413),i=t(7757),r=t.n(i),o=t(2791),a=t(2666),u=function(){var e=(0,s.Z)(r().mark((function e(){var n,t,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Iniciando suscribci\xf3n"),e.next=3,navigator.serviceWorker.register("sw.js");case 3:return n=e.sent,e.next=6,n.pushManager.getSubscription();case 6:if(null!==(t=e.sent)){e.next=15;break}return e.next=10,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BDfffC8Hll6UQtCyCrYk1gDEb3l25UaocTfnduDxtl5gyJGy07yyfR8Xji8hi1JzCoEcoYoQAeMfxwLt2NWNXdc"});case 10:t=e.sent,s="https://notificaciones-push-backend-production.up.railway.app",console.log("suscrito a: "+s),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,id:1024})},fetch(s+"/notificaciones",c);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=t(184),f=(0,o.memo)((function(){var e=(0,o.useContext)(a.X).setContext;(0,o.useEffect)((function(){e((function(e){return(0,c.Z)((0,c.Z)({},e),{},{titlePage:"Inicio"})}))}),[e]),(0,o.useEffect)((function(){console.log("segun inscritos"),console.log(Notification.permission)}),[]);var n=function(){var e=(0,s.Z)(r().mark((function e(){var n,t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.register("sw.js");case 2:n=e.sent,t={body:"Simple piece of body text.\nSecond line of body text :)"},n.showNotification("hola",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.jsx)("div",{className:"main-content",children:(0,l.jsx)("div",{className:"main-content-inner",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-lg-12 mt-3",children:(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("h4",{className:"text-center",children:"INICIO"}),(0,l.jsx)("button",{className:"btn btn-success",onClick:function(){u()},children:"Recibir notificaciones"}),(0,l.jsx)("button",{className:"btn btn-success",onClick:n,children:"a ver"})]})})})})})})})),d=f}}]);
//# sourceMappingURL=942.462b1428.chunk.js.map