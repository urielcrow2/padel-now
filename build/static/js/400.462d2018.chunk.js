"use strict";(self.webpackChunknuevo=self.webpackChunknuevo||[]).push([[400],{5781:function(e,t,a){a.d(t,{Q:function(){return s}});a(2791);var n=a(184),s=function(e){var t=e.totalJournals,a=e.tableGeneral;return(0,n.jsx)("div",{className:"table-responsive",style:{padding:25},children:(0,n.jsxs)("table",{className:"table align-middle",style:{marginTop:30},children:[(0,n.jsx)("thead",{style:{background:"#098BCE",color:"#FFF",height:70,fontSize:15,verticalAlign:"middle",boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.52)",borderRadius:20},children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",style:{borderTopLeftRadius:20},children:"Posici\xf3n"}),(0,n.jsx)("th",{scope:"col",style:{textAlign:"center"},children:"Jugador"}),(0,n.jsx)("th",{scope:"col",children:"Cancha"}),t.map((function(e){return(0,n.jsxs)("th",{scope:"col",children:["J",e]},e)})),(0,n.jsx)("th",{scope:"col",style:{borderTopRightRadius:20},children:"Total"})]})}),(0,n.jsx)("tbody",{style:{boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.22)",borderBottomLeftRadius:20,borderBottomRightRadius:20},children:a.list.users&&a.list.users.map((function(e){return(0,n.jsxs)("tr",{style:{verticalAlign:"middle"},children:[(0,n.jsx)("th",{scope:"row",style:{paddingLeft:40},children:e.position}),(0,n.jsxs)("td",{style:{textAlign:"center"},children:[(0,n.jsx)("img",{style:{width:"50px",marginBottom:"10px",borderRadius:"50%",boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.32)"},alt:"avatar",src:e.img}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{style:{fontSize:12,marginRight:6},children:e.alias}),(0,n.jsx)("br",{}),e.name]}),(0,n.jsx)("td",{children:(0,n.jsxs)("span",{className:"badge bg-danger",style:{fontSize:25,marginTop:5},children:[" ",e.court," "]})}),t.map((function(t){return(0,n.jsx)("td",{children:(0,n.jsx)("span",{style:{width:80,fontSize:20,textAlign:"center"},children:e["journal"+t]})},t)})),(0,n.jsx)("td",{children:(0,n.jsx)("span",{style:{width:80,fontSize:20,textAlign:"center"},children:e.pointsGenerals})})]},e.id_user)}))})]})})}},8728:function(e,t,a){a.d(t,{S:function(){return s}});a(2791);var n=a(184),s=function(e){var t=e.totalJournals,a=e.tableGeneral;return a.list.users&&a.list.users.map((function(e){return(0,n.jsxs)("div",{style:{background:"#fff",padding:10,borderRadius:6,position:"relative",boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.52)",marginBottom:15},children:[(0,n.jsxs)("div",{style:{background:"#007bff",padding:10,color:"#fff",textAlign:"right"},children:[(0,n.jsx)("span",{style:{fontSize:12,marginRight:6},children:e.alias}),(0,n.jsx)("br",{}),e.name]}),(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsxs)("div",{className:"d-flex flex-column",children:[(0,n.jsx)("b",{children:"Posici\xf3n"})," ",(0,n.jsxs)("span",{className:"badge bg-secondary",style:{fontSize:25,marginTop:5},children:[" ",e.position," "]})]}),(0,n.jsx)("img",{style:{width:"90px",margin:"10px",borderRadius:"50%",boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.22)"},alt:"avatar",src:e.img}),(0,n.jsxs)("div",{className:"d-flex flex-column",children:[(0,n.jsx)("b",{children:"Cancha"})," ",(0,n.jsxs)("span",{className:"badge bg-danger",style:{fontSize:25,marginTop:5},children:[" ",e.court," "]})]})]}),(0,n.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,n.jsx)("h5",{children:"JORNADAS"}),(0,n.jsx)("hr",{style:{width:"100%"}}),(0,n.jsx)("h5",{children:"PUNTOS"})]}),t.map((function(t){return(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-3 text-center",children:t}),(0,n.jsx)("div",{className:"col-9 text-end",children:e["journal"+t]})]},t)})),(0,n.jsx)("div",{className:"d-flex justify-content-center",children:(0,n.jsx)("hr",{style:{width:"100%"}})}),(0,n.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[(0,n.jsx)("h4",{children:"Total"}),(0,n.jsxs)("span",{className:"badge bg-warning",style:{fontSize:25,marginTop:5,marginLeft:5},children:[" ",e.pointsGenerals," "]})]})]},e.id_user)}))}},8824:function(e,t,a){a.d(t,{J:function(){return d}});var n=a(1413),s=a(5861),r=a(885),i=a(7757),o=a.n(i),c=a(2791),l=a(362),d=function(e){var t=(0,c.useState)({load:!0,list:[]}),a=(0,r.Z)(t,2),i=a[0],d=a[1],u=(0,c.useCallback)((0,s.Z)(o().mark((function t(){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("llamada Lista..."),d((function(e){return(0,n.Z)((0,n.Z)({},e),{},{load:!0})})),t.prev=2,t.next=5,(0,l.x)({endpoint:"/tournaments/table/".concat(e)});case 5:a=t.sent,console.log(a),d({load:!1,list:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),d({load:!1,list:[]});case 13:case"end":return t.stop()}}),t,null,[[2,10]])}))),[e]);return(0,c.useEffect)((function(){0!==e&&u()}),[u]),{tableGeneral:i}}},7035:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var n=a(1413),s=a(2791),r=a(2666),i=a(8813),o=a(5861),c=a(885),l=a(7757),d=a.n(l),u=a(362),m=a(4648),x=a(6e3),h=a(2859),f=a(2728),p=a(184),j=function(){var e=(0,s.useContext)(i.F),t=e.setScreen,a=e.setSearchTournaments,r=e.setTournamentsContext,l=e.tournamentsContext,j=e.setTournamentsSelect,b=e.setIdTournamentDetail,v=function(e){var t=(0,s.useRef)(!0),a=(0,s.useState)({load:!0,data:[],select:[],list:[]}),n=(0,c.Z)(a,2),r=n[0],i=n[1],l=(0,s.useState)(0),m=(0,c.Z)(l,2),x=m[0],h=m[1],f=(0,s.useCallback)((0,o.Z)(d().mark((function a(){var n;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i({load:!0,data:[],select:[],list:[]}),a.next=3,(0,u.x)({endpoint:"/tournaments?status=".concat(e.status,"&id=").concat(e.id,"&club=").concat(x)});case 3:if(n=a.sent,t.current){a.next=6;break}return a.abrupt("return");case 6:0===x&&h(n.id_club),i({load:!1,select:n.list,data:n.items,list:n.clubs});case 8:case"end":return a.stop()}}),a)}))),[e.status,e.id,x]);return(0,s.useEffect)((function(){f()}),[f]),(0,s.useEffect)((function(){return function(){t.current=!1}}),[]),{tournaments:r,getTournaments:f,onChangeClub:function(e){h(e.target.value)},idClub:x}}(l),g=v.tournaments,N=v.getTournaments,y=v.onChangeClub,w=v.idClub,C=(0,s.useState)(window.innerWidth),S=(0,c.Z)(C,2),k=S[0],T=S[1];(0,s.useEffect)((function(){r((function(e){return(0,n.Z)((0,n.Z)({},e),{},{total:g.data.length,onChangeClub:y,tournaments:g,idClub:w})}))}),[g.data,r]),(0,s.useEffect)((function(){j(g.select)}),[g.select,j]),(0,s.useEffect)((function(){var e=function(){return T(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var Z=function(e){t(3),a(!1),b(e)},_=function(e,t,a){(0,x.uI)("Deseas cambiar el estatus del torneo: ".concat(a),"Los torneos archivados no se eliminan, pero si se ocultan para los usuarios que no sean administrador",function(){var a=(0,o.Z)(d().mark((function a(n){var s,r;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.isConfirmed){a.next=19;break}return s={id:e,status:1===t?2:1},(0,x.lQ)({html:"Actualizando estatus"}),a.prev=4,a.next=7,(0,u.x)({endpoint:"/tournaments/status",method:"PUT",body:s,json:!0});case 7:if(r=a.sent,parseInt(r.id)!==e||1!==parseInt(r.affected)){a.next=13;break}(0,x.NO)({icon:"success",title:"Actualizaci\xf3n correcta"}),N(),a.next=14;break;case 13:return a.abrupt("return",(0,x.sM)({icon:"error",title:"Ocurrio un error",text:"Error de comunucaci\xf3n con el servidor, intentelo m\xe1s tarde"}));case 14:a.next=19;break;case 16:return a.prev=16,a.t0=a.catch(4),a.abrupt("return",(0,x.sM)({icon:"error",title:"Ocurrio un error",text:"Error de comunucaci\xf3n con el servidor, intentelo m\xe1s tarde"}));case 19:case"end":return a.stop()}}),a,null,[[4,16]])})));return function(e){return a.apply(this,arguments)}}())},F=function(e,t){(0,x.uI)("Deseas eliminar el torneo: ".concat(t),"Todos los registros desapareceran, esta opci\xf3n se recomienda s\xf3lo cuando se cre\xf3 un torneo y no le han cargado datos",function(){var t=(0,o.Z)(d().mark((function t(a){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=17;break}return(0,x.lQ)({html:"Eliminando torneo"}),t.prev=2,t.next=5,(0,u.x)({endpoint:"/tournaments/".concat(e),method:"DELETE",json:!0});case 5:if(!(t.sent.length>0)){t.next=11;break}(0,x.NO)({icon:"success",title:"Torneo eliminado"}),N(),t.next=12;break;case 11:return t.abrupt("return",(0,x.sM)({icon:"error",title:"Ocurrio un error",text:"Error de comunucaci\xf3n con el servidor, intentelo m\xe1s tarde"}));case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(2),t.abrupt("return",(0,x.sM)({icon:"error",title:"Ocurrio un error",text:"Error de comunucaci\xf3n con el servidor, intentelo m\xe1s tarde"}));case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}())};return(0,p.jsxs)("div",{className:"table-responsive",style:{padding:25},children:[g.load?(0,p.jsx)(m._,{}):k<920?(0,p.jsx)("div",{className:"row",children:g.data.map((function(e){return(0,p.jsx)("div",{className:"col-12",style:{marginBottom:20},children:(0,p.jsxs)("div",{style:{background:"#fff",padding:10,borderRadius:6,position:"relative",boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.52)"},children:[(0,p.jsxs)("div",{style:{background:"#007bff",padding:10,color:"#fff"},children:[e.name," "]}),(0,p.jsxs)("div",{className:"d-flex justify-content-between",children:[" ",(0,p.jsx)("b",{children:"F. creaci\xf3n:"})," ",(0,h.AN)(e.created_at)," "]}),(0,p.jsxs)("div",{className:"d-flex justify-content-between",children:[" ",(0,p.jsx)("b",{children:"Jugadores:"})," ",e.players," "]}),(0,p.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,p.jsx)("b",{children:"Avance:"}),(0,p.jsx)("progress",{value:100/e.journals*(parseInt(e.last_journal_close)+1),max:"100"}),(0,p.jsxs)("span",{className:"ms-2",children:[Math.floor(100/e.journals*(parseInt(e.last_journal_close)+1)),"%"]})]}),(0,p.jsx)("div",{className:"d-flex justify-content-center",children:(0,p.jsx)("hr",{style:{width:"80%"}})}),(0,p.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,p.jsx)("button",{type:"button",title:"Detalles",className:"btn btn-outline-success me-2",onClick:function(){return Z(e.id)},children:(0,p.jsx)("i",{className:"fa fa-plus ","aria-hidden":"true"})}),(0,p.jsx)("button",{type:"button",title:"Eliminar",className:"btn btn-outline-danger me-2",onClick:function(){return F(e.id,e.name)},children:(0,p.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})}),(0,p.jsx)("button",{type:"button",title:"Archivar / Desarchivar",className:"btn btn-outline-secondary",onClick:function(){return _(e.id,e.status,e.name)},children:(0,p.jsx)("i",{className:"fa fa-history","aria-hidden":"true"})})]})]})},e.id)}))}):(0,p.jsxs)("table",{className:"table align-middle",style:{marginTop:30},children:[(0,p.jsx)("thead",{style:{background:"#098BCE",color:"#FFF",height:70,fontSize:15,verticalAlign:"middle",boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.52)",borderRadius:20},children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",style:{borderTopLeftRadius:20},children:"No."}),(0,p.jsx)("th",{scope:"col",children:"Torneo"}),(0,p.jsx)("th",{scope:"col",children:"F. creaci\xf3n"}),(0,p.jsx)("th",{scope:"col",children:"Jugadores"}),(0,p.jsx)("th",{scope:"col",children:"Avance torneo"}),(0,p.jsx)("th",{scope:"col",style:{borderTopRightRadius:20},children:"Opciones"})]})}),(0,p.jsx)("tbody",{style:{boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.22)",borderBottomLeftRadius:20,borderBottomRightRadius:20},children:g.data.map((function(e,t){return(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"row",style:{paddingLeft:40},children:t+1}),(0,p.jsxs)("td",{children:[" ",e.name]}),(0,p.jsxs)("td",{children:[" ",(0,h.AN)(e.created_at)]}),(0,p.jsxs)("td",{style:{textAlign:"center"},children:[" ",e.players," "]}),(0,p.jsxs)("td",{children:[" ",(0,p.jsx)("progress",{value:100/e.journals*(parseInt(e.last_journal_close)+1),max:"100"})," ",Math.floor(100/e.journals*(parseInt(e.last_journal_close)+1)),"%"]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("button",{type:"button",title:"Detalles",className:"btn btn-outline-success me-2 mb-md-0 mb-2",onClick:function(){return Z(e.id)},children:(0,p.jsx)("i",{className:"fa fa-plus ","aria-hidden":"true"})}),(0,p.jsx)("button",{type:"button",title:"Eliminar",className:"btn btn-outline-danger me-2 mb-md-0 mb-2",onClick:function(){return F(e.id,e.name)},children:(0,p.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})}),(0,p.jsx)("button",{type:"button",title:"Archivar / Desarchivar",className:"btn btn-outline-secondary",onClick:function(){return _(e.id,e.status,e.name)},children:(0,p.jsx)("i",{className:"fa fa-history","aria-hidden":"true"})})]})]},e.id)}))})]}),(0,p.jsx)(f.t,{hight:200})]})},b=a(3943),v=function(){var e=(0,s.useContext)(i.F),t=e.setScreen,a=e.setSearchTournaments,r=e.setFormData,l=e.formData.generals,u=l.name,m=void 0===u?"":u,h=l.players,f=void 0===h?"":h,j=l.journals,v=void 0===j?3:j,g=l.initial_date,N=void 0===g?"":g,y=l.final_date,w=void 0===y?"":y,C=l.players_by_court,S=void 0===C?4:C,k=(0,b.cI)({name:(0,b.Vs)({val:m,type:"text",required:!0,focus:!!m}),players:(0,b.Vs)({val:f,type:"number",required:!0,focus:!!f}),journal:(0,b.Vs)({val:v,type:"number",required:!0,focus:!!v}),dateStart:(0,b.Vs)({val:N,type:"date",focus:!!N}),dateEnd:(0,b.Vs)({val:w,type:"date",focus:!!w}),playersForCourt:(0,b.Vs)({val:S,type:"number",required:!0,focus:!!S})}),T=(0,c.Z)(k,5),Z=T[0],_=T[1],F=T[2],E=T[3],R=T[4],A=function(){var e=(0,o.Z)(d().mark((function e(a){var s,i,o,c,l,u,m;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(0,b.t8)(Z,_)){e.next=3;break}return e.abrupt("return");case 3:for(s={name:Z.name.val,players:Math.abs(Z.players.val),journals:Math.abs(Z.journal.val),initial_date:Z.dateStart.val,final_date:Z.dateEnd.val,courts:parseInt(Math.abs(Z.players.val))/parseInt(Math.abs(Z.playersForCourt.val)),players_by_court:Math.abs(Z.playersForCourt.val)},(0,x.NO)({icon:"success",title:"Avance guardado"}),i=[],o=parseInt(s.journals),c=0;c<o;c++){for(l={},u=parseInt(s.courts),m=0;m<u;m++)l[m+1]={date:"",time:""};i.push(l)}r((function(e){return(0,n.Z)((0,n.Z)({},e),{},{generals:s,journals:i})})),t(4);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{type:"button",className:"btn btn-outline-dark me-2 mb-md-0 mb-2 d-flex align-items-center",onClick:function(){t(1),a(!0)},children:[(0,p.jsx)("i",{className:"fa fa-2x fa-arrow-left me-2","aria-hidden":"true"})," Lista de torneos"]}),(0,p.jsx)("h4",{className:"text-center mb-5",children:" Crear nuevo torneo paso 1 de 4 "}),(0,p.jsx)("form",{onSubmit:A,children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"form-gp col-md-12",children:[(0,p.jsx)("label",{className:Z.name.focus?"focusActive":"",children:"Nombre del torneo"}),(0,p.jsx)("input",{name:"name",type:"text",onChange:F,onFocus:E,onBlur:R,value:Z.name.val,autoComplete:"off"}),(0,p.jsx)("i",{className:"fa fa-tag fa-fw"}),(0,p.jsx)("div",{className:"text-danger",children:Z.name.error&&"Obligatorio"})]}),(0,p.jsxs)("div",{className:"form-gp col-md-6",children:[(0,p.jsx)("label",{className:Z.players.focus?"focusActive":"",children:"N\xfamero jugadores"}),(0,p.jsx)("input",{name:"players",type:"number",onChange:F,onFocus:E,onBlur:R,value:Z.players.val,min:"4",autoComplete:"off"}),(0,p.jsx)("i",{className:"fa fa-users fa-fw"}),(0,p.jsx)("div",{className:"text-danger",children:Z.players.error&&"Obligatorio y deben ser m\xfaltiplos de 4"})]}),(0,p.jsxs)("div",{className:"form-gp col-md-6",children:[(0,p.jsx)("label",{className:Z.journal.focus?"focusActive":"",children:"N\xfamero jornadas"}),(0,p.jsx)("input",{name:"journal",type:"number",onChange:F,onFocus:E,onBlur:R,value:Z.journal.val,min:"1",autoComplete:"off"}),(0,p.jsx)("i",{className:"fa fa-sort-numeric-asc fa-fw"}),(0,p.jsx)("div",{className:"text-danger",children:Z.journal.error&&"Obligatorio y al menos 1 jornada"})]}),(0,p.jsxs)("div",{className:"form-gp col-md-6 custome-date",children:[(0,p.jsx)("label",{className:"focusActive",children:"Fecha inicio"}),(0,p.jsx)("input",{name:"dateStart",type:"date",onChange:F,onFocus:E,onBlur:R,value:Z.dateStart.val,autoComplete:"off",style:{padding:"0!important"}}),(0,p.jsx)("div",{className:"text-danger",children:Z.dateStart.error&&"Obligatorio"})]}),(0,p.jsxs)("div",{className:"form-gp col-md-6 custome-date",children:[(0,p.jsx)("label",{className:"focusActive",children:"Fecha fin"}),(0,p.jsx)("input",{name:"dateEnd",type:"date",onChange:F,onFocus:E,onBlur:R,value:Z.dateEnd.val,autoComplete:"off",style:{padding:"1px!important"}}),(0,p.jsx)("div",{className:"text-danger",children:Z.dateEnd.error&&"Obligatorio"})]}),(0,p.jsxs)("div",{className:"form-gp col-md-6",children:[(0,p.jsx)("label",{className:Z.playersForCourt.focus?"focusActive":"",children:"Jugadores por cancha"}),(0,p.jsx)("input",{name:"playersForCourt",type:"number",onChange:F,onFocus:E,onBlur:R,value:Z.playersForCourt.val,min:"4",readOnly:!0,autoComplete:"off"}),(0,p.jsx)("i",{className:"fa fa-list-ol fa-fw"}),(0,p.jsx)("div",{className:"text-danger",children:Z.playersForCourt.error&&"Obligatorio"})]}),(0,p.jsx)("div",{className:"col-12 mt-4 d-flex justify-content-center",children:(0,p.jsxs)("button",{type:"submit",className:"btn btn-outline-dark me-2 mb-md-0 mb-2 d-flex align-items-center",children:[" Ir a paso 2 ",(0,p.jsx)("i",{className:"fa fa-2x fa-arrow-right ms-3","aria-hidden":"true"})]})})]})})]})},g=a(6749),N=a(6643),y=a(3838),w=a(9991),C=a(8824),S=a(5781),k=a(8728),T=function(){var e=(0,s.useContext)(i.F).idTournamentDetail,t=(0,C.J)(e).tableGeneral,a=(0,s.useState)([]),n=(0,c.Z)(a,2),r=n[0],o=n[1],l=(0,s.useState)(window.innerWidth),d=(0,c.Z)(l,2),u=d[0],x=d[1];return(0,s.useEffect)((function(){var e=function(){return x(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,s.useEffect)((function(){for(var e=[],a=1;a<=t.list.journals;a++)e.push(a);o(e)}),[t.list.journals]),(0,p.jsxs)(p.Fragment,{children:[t.load?(0,p.jsx)("div",{style:{marginTop:45},children:(0,p.jsx)(m._,{})}):u>760?(0,p.jsx)(S.Q,{totalJournals:r,tableGeneral:t}):(0,p.jsx)(k.S,{totalJournals:r,tableGeneral:t}),(0,p.jsx)(f.t,{hight:200})]})},Z=function(){var e=(0,s.useContext)(i.F),t=e.setScreen,a=e.setSearchTournaments,n=e.idTournamentDetail,r=e.showResumen,l=e.setShowResumen,h=e.tournamentsContext,j=(0,s.useContext)(g.Q),b=j.userP,v=j.vs,C=(0,s.useState)(0),S=(0,c.Z)(C,2),k=S[0],Z=S[1],_=(0,N.T)(k,n,h.idClub),F=_.data,E=_.onChangeDateSingle,R=_.onChangePoints,A=_.upPositionUser,O=_.downPositionUser,z=(0,s.useState)(window.innerWidth),B=(0,c.Z)(z,2),D=B[0],L=B[1],P=(0,s.useState)(0),I=(0,c.Z)(P,2),M=I[0],J=I[1];(0,s.useEffect)((function(){var e=function(){return L(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var U=function(){var e=(0,o.Z)(d().mark((function e(){var t,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],F.times.forEach((function(e,a){Object.keys(e).forEach((function(e){t.push([F.times[a][e].date,F.times[a][e].time])}))})),a={journal:F.journal_active,idTournament:n,users:b,vs:v,times:t},(0,x.lQ)({html:"Guardando cambios"}),console.log(a),e.prev=5,e.next=8,(0,u.x)({endpoint:"/tournaments",method:"PUT",body:a,json:!0});case 8:if(!e.sent.idTournament){e.next=14;break}return(0,x.NO)({icon:"success",title:"Cambios guardados"}),e.abrupt("return",!0);case 14:return(0,x.sM)({icon:"error",title:"Ocurrio un error",text:"Error de comunucaci\xf3n con el servidor, intentelo m\xe1s tarde"}),e.abrupt("return",!1);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(5),e.abrupt("return",(0,x.sM)({icon:"error",title:"Ocurrio un error",text:"Error de comunucaci\xf3n con el servidor, intentelo m\xe1s tarde"}));case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{type:"button",className:"btn btn-outline-dark mb-4 d-flex align-items-center",onClick:function(){t(1),a(!0)},children:[(0,p.jsx)("i",{className:"fa fa-2x fa-arrow-left me-2","aria-hidden":"true"})," Lista de torneos"]}),(0,p.jsx)("h4",{className:"text-center mb-3",children:F.name}),(0,p.jsxs)("div",{className:"row mt-3",children:[(0,p.jsxs)("div",{className:"col-md-4 col-12 position-relative icon-detail",children:[(0,p.jsx)("div",{className:"detail mb-2 mt-2",children:"N\xfamero de jugadores"}),(0,p.jsx)("i",{className:"fa fa-users position-absolute","aria-hidden":"true"}),(0,p.jsx)("span",{className:"detail",children:b.length>0?b.length:"Cargando..."})]}),(0,p.jsxs)("div",{className:"col-md-4 col-12 position-relative icon-detail",children:[(0,p.jsx)("div",{className:"detail mb-2 mt-2",children:"N\xfamero de jornadas"}),(0,p.jsx)("i",{className:"fa fa-sort-numeric-asc position-absolute","aria-hidden":"true"}),(0,p.jsxs)("span",{className:"detail",children:[F.journals_total," "]})]}),(0,p.jsxs)("div",{className:"col-md-4 col-12 position-relative icon-detail",children:[(0,p.jsx)("div",{className:"detail mb-2 mt-2",children:"\xdaltima jornada finalizada"}),(0,p.jsx)("i",{className:"fa fa-lock position-absolute","aria-hidden":"true"}),(0,p.jsx)("span",{className:"detail",children:F.last_journal_close})]}),(0,p.jsxs)("div",{className:"col-md-4 col-12 position-relative icon-detail",children:[(0,p.jsx)("div",{className:"detail mb-2 mt-2",children:"Fecha de inicio"}),(0,p.jsx)("i",{className:"fa fa-calendar-o position-absolute","aria-hidden":"true"}),(0,p.jsx)("span",{className:"detail",children:F.initial_date})]}),(0,p.jsxs)("div",{className:"col-md-4 col-12 position-relative icon-detail",children:[(0,p.jsx)("div",{className:"detail mb-2 mt-2",children:"Fecha fin"}),(0,p.jsx)("i",{className:"fa fa-calendar position-absolute","aria-hidden":"true"}),(0,p.jsx)("span",{className:"detail",children:F.final_date})]}),(0,p.jsxs)("div",{className:"col-md-4 col-12 position-relative icon-detail",children:[(0,p.jsx)("div",{className:"detail mb-2 mt-2",children:"N\xfamero de canchas"}),(0,p.jsx)("i",{className:"fa fa-columns position-absolute","aria-hidden":"true"}),(0,p.jsx)("span",{className:"detail",children:F.times.length>0?F.times.length:"Cargando..."})]}),(0,p.jsxs)("div",{className:"col-md-4 col-12 position-relative icon-detail",children:[(0,p.jsx)("div",{className:"detail mb-2 mt-2",children:"Jugadores por cancha"}),(0,p.jsx)("i",{className:"fa fa-list-ol position-absolute","aria-hidden":"true"}),(0,p.jsx)("span",{className:"detail",children:F.number_players_by_court})]}),(0,p.jsx)("div",{className:"col-12",children:(0,p.jsx)("hr",{})}),(0,p.jsxs)("ul",{className:"nav nav-pills nav-justified mb-1",children:[(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)("button",{type:"button",className:"nav-link ".concat(0===M&&"active"),onClick:function(){return J(0)},children:"Editar"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)("button",{type:"button",className:"nav-link ".concat(1===M&&"active"),onClick:function(){return J(1)},children:"T. General"})})]}),(0,p.jsx)("div",{className:"col-12 mb-1",children:(0,p.jsx)("hr",{})}),0===M?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"col-6 d-flex justify-content-start",children:[(0,p.jsxs)("h6",{className:"mt-3",children:[" ",D>400?"Jornada":"J","  "]}),(0,p.jsx)("input",{type:"number",className:"form-control",value:F.journal_active,min:"1",max:F.last_journal_close,disabled:F.load,onChange:function(e){Z(e.target.value)},style:{width:60,fontSize:16,textAlign:"center",marginLeft:4,marginRight:4}}),(0,p.jsxs)("h6",{className:"mt-3",children:[" de ",F.journals_total]})]}),(0,p.jsxs)("div",{className:"col-6 d-flex justify-content-end mt-1 mt-md-0",children:[F.last_journal_close===F.journal_active&&F.journal_active<F.journals_total&&(0,p.jsxs)("button",{type:"button",onClick:function(){(0,x.uI)("Cerrar jornada ".concat(F.journal_active),"Al cerrar la jornada habilitaras la siguiente",function(){var e=(0,o.Z)(d().mark((function e(t){var a,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=23;break}return e.next=3,U();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return a={journal:F.journal_active,idTournament:n},(0,x.lQ)({html:"Cerrando jornada"}),e.prev=8,e.next=11,(0,u.x)({endpoint:"/tournaments/journal_close",method:"PUT",body:a,json:!0});case 11:if(!(s=e.sent).idTournament){e.next=17;break}(0,x.NO)({icon:"success",title:"Jornada cerrada correctamente"}),Z(s.journal+1),e.next=18;break;case 17:return e.abrupt("return",(0,x.sM)({icon:"error",title:"Ocurrio un error",text:"Error de comunucaci\xf3n con el servidor, intentelo m\xe1s tarde"}));case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(8),e.abrupt("return",(0,x.sM)({icon:"error",title:"Ocurrio un error",text:"Error de comunucaci\xf3n con el servidor, intentelo m\xe1s tarde"}));case 23:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(t){return e.apply(this,arguments)}}())},className:"btn btn-outline-dark me-3",disabled:F.load||!r,style:{boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.22)"},children:[(0,p.jsx)("i",{className:"fa fa-2x fa-lock","aria-hidden":"true"})," ",D>400&&"Cerrar jornada"]}),(0,p.jsxs)("button",{type:"button",onClick:U,className:"btn btn-outline-dark",disabled:F.load||!r,style:{boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.22)"},children:[(0,p.jsx)("i",{className:"fa fa-2x fa-check","aria-hidden":"true"})," ",D>400&&"Guardar cambios"]})]}),(0,p.jsx)("div",{className:"col-12",children:F.load?(0,p.jsx)(m._,{className:"mt-5"}):D>920?(0,p.jsx)(y.Y,{courts:F.times[0],users:b,numberPlayers:F.number_players_by_court,onChangeDateSingle:E,onChangePoints:R,upPositionUser:A,downPositionUser:O,disabled:!1,setShowResumen:l,showResumen:r}):(0,p.jsx)("div",{className:"row",style:{marginTop:20},children:(0,p.jsx)(w.r,{courts:F.times[0],users:b,numberPlayers:F.number_players_by_court,onChangeDateSingle:E,onChangePoints:R,upPositionUser:A,downPositionUser:O,disabled:!1,setShowResumen:l,showResumen:r})})})]}):(0,p.jsx)(T,{}),(0,p.jsx)(f.t,{hight:200})]})]})},_=a(2982),F=function(e){var t=e.id,a=e.name,n=e.img,s=e.select,r=e.changeSelectSingle;return(0,p.jsx)("div",{className:"col-md-4",style:{marginBottom:50,position:"relative"},children:(0,p.jsxs)("div",{style:{background:"#fff",padding:10,borderRadius:6,position:"relative",boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.52)",height:120},children:[(0,p.jsx)("div",{style:{position:"absolute",top:10,left:20},children:(0,p.jsx)("img",{style:{width:"70px",marginBottom:"10px",borderRadius:"50%",boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.52)"},alt:"avatar",src:n})}),(0,p.jsx)("div",{className:"mt-5",style:{marginLeft:90},children:a}),(0,p.jsx)("div",{className:"d-flex justify-content-end mt-n3",style:{position:"absolute",right:10,top:10},children:(0,p.jsx)("i",{className:"fa fa-3x ".concat(s?"fa-check-square-o":"fa-square-o"," "),"aria-hidden":"true",onClick:function(){return r(t)},style:{cursor:"pointer"}})})]})})},E=function(){var e=(0,s.useContext)(i.F),t=e.setScreen,a=e.formData,r=e.setFormData,l=function(e){var t=(0,s.useContext)(i.F).tournamentsContext.idClub,a=(0,s.useRef)(!0),r=(0,s.useState)({load:!0,data:[]}),l=(0,c.Z)(r,2),m=l[0],x=l[1],h=(0,s.useCallback)((0,o.Z)(d().mark((function e(){var s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.x)({endpoint:"/users/".concat(t)});case 2:if(s=e.sent,a.current){e.next=5;break}return e.abrupt("return");case 5:s=s.users.map((function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{lastPosition:t+1,select:!1,positionInit:1})})),x({load:!1,data:s});case 7:case"end":return e.stop()}}),e)}))),[]);return(0,s.useEffect)((function(){return e.length>0?x({load:!1,data:e}):h(),function(){a.current=!1}}),[h,e]),{users:m,setUsers:x}}(a.users),h=l.users,j=l.setUsers,b=(0,s.useState)([]),v=(0,c.Z)(b,2),g=v[0],N=v[1],y=(0,s.useState)(""),w=(0,c.Z)(y,2),C=w[0],S=w[1],k=(0,s.useState)(!1),T=(0,c.Z)(k,2),Z=T[0],E=T[1],R=(0,s.useRef)(a.totalSelected),A=function(e){var t=h.data.map((function(t){return t.id===e&&(t.select=!t.select,t.select?R.current++:R.current--),t}));j((0,n.Z)((0,n.Z)({},h),{},{data:t}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{type:"button",className:"btn btn-outline-dark me-2 mb-md-0 mb-2 d-flex align-items-center",onClick:function(){return t(2)},children:[(0,p.jsx)("i",{className:"fa fa-2x fa-arrow-left me-2","aria-hidden":"true"})," Paso 1"]}),(0,p.jsx)("h4",{className:"text-center mb-1",children:" Selecciona a los jugadores paso 2 de 4 "}),(0,p.jsxs)("div",{className:"row mt-3",children:[(0,p.jsx)("div",{className:"col-md-4",children:(0,p.jsxs)("div",{className:"row card-counter primary",children:[(0,p.jsx)("div",{className:"col-4",children:(0,p.jsx)("i",{className:"fa fa-users fa-3x"})}),(0,p.jsxs)("div",{className:"col-8",children:[(0,p.jsx)("span",{className:"count-name",children:"Jugadores: "}),(0,p.jsx)("span",{className:"count-numbers",children:C?g.length:h.data.length})]})]})}),(0,p.jsx)("div",{className:"col-8 mt-5",children:(0,p.jsx)("input",{type:"text",placeholder:"Buscar jugador...",className:"form-control",value:C,onChange:function(e){S(e.target.value);var t=new RegExp("^.*".concat(e.target.value,".*$"),"i");N((0,_.Z)(h.data.filter((function(e){return e.name.match(t)}))))}})})]}),(0,p.jsxs)("div",{className:"row mt-5",children:[(0,p.jsxs)("div",{className:"col-12 mb-5 d-flex justify-content-end",children:[(0,p.jsx)("b",{children:"Total Seleccionados: "}),(0,p.jsx)("span",{className:"badge bg-danger",style:{fontSize:30,marginRight:10,marginLeft:5},children:R.current}),(0,p.jsx)("b",{children:"Seleccionar todos: "}),(0,p.jsx)("i",{className:"fa fa-3x fa-square-o ms-4","aria-hidden":"true",onClick:function(){var e=!Z;E(e);var t=h.data.map((function(t){return t.select=e,R.current=e?h.data.length:0,t}));j((0,n.Z)((0,n.Z)({},h),{},{data:t}))},style:{cursor:"pointer"}})]}),h.load?(0,p.jsx)(m._,{}):C?g.map((function(e){return(0,p.jsx)(F,(0,n.Z)((0,n.Z)({},e),{},{changeSelectSingle:A}),e.id)})):h.data.map((function(e){return(0,p.jsx)(F,(0,n.Z)((0,n.Z)({},e),{},{changeSelectSingle:A}),e.id)})),(0,p.jsx)(f.t,{hight:200}),(0,p.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,p.jsxs)("button",{type:"submit",className:"btn btn-outline-dark me-2 mb-md-0 mb-2 d-flex align-items-center",onClick:function(){if(R.current<1)return(0,x.sM)({title:"Debes seleccionar ".concat(a.generals.players," jugadores")});if(R.current>a.generals.players||R.current<a.generals.players)return(0,x.sM)({title:"Debes seleccionar ".concat(a.generals.players," jugadores")});for(var e=[],s=0,i=[],o=0;o<a.generals.courts;o++)i.push(0);h.data.forEach((function(t){if(t.select){var r=a.usersTeams.find((function(e){return e.id===t.id}));r?(e.push((0,n.Z)({},r)),r.team>0&&(i[r.team-1]+=1)):(e.push((0,n.Z)({},t)),e[s].select=!1,e[s].team=0),s++}})),r((0,n.Z)((0,n.Z)({},a),{},{users:h.data,usersTeams:e,totalUsersByTeam:i,totalSelected:R.current})),(0,x.NO)({icon:"success",title:"Avance guardado"}),t(5)},children:[" Ir a paso 3 ",(0,p.jsx)("i",{className:"fa fa-2x fa-arrow-right ms-3","aria-hidden":"true"})]})})]})]})},R=a(6353),A=function(){var e=(0,s.useContext)(i.F),t=e.setScreen,a=e.setSearchTournaments,r=e.tournamentsContext,o=e.setTournamentsContext,c=e.tournamentsSelect,l=(0,s.useRef)(0);return(0,p.jsx)("div",{className:"main-content-inner",style:{marginBottom:-50},children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-lg-12 mt-3",children:(0,p.jsx)("div",{className:"card",children:(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-10",children:(0,p.jsx)(R.q,{clubs:r.tournaments,onChangeClub:r.onChangeClub,select:r.idClub})}),(0,p.jsx)("div",{className:"col-md-2 mt-md-0 mt-2 d-flex justify-content-end",children:(0,p.jsxs)("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){t(2),a(!1)},style:{boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.22)"},children:[(0,p.jsx)("i",{className:"fa fa-2x fa-plus","aria-hidden":"true"})," Nuevo"]})})]}),(0,p.jsxs)("div",{className:"row mt-3",children:[(0,p.jsx)("div",{className:"col-md-4",children:(0,p.jsxs)("div",{className:"row card-counter primary",children:[(0,p.jsx)("div",{className:"col-4",children:(0,p.jsx)("i",{className:"fa fa-trophy fa-3x"})}),(0,p.jsxs)("div",{className:"col-8",children:[(0,p.jsx)("span",{className:"count-name",children:"Torneos: "}),(0,p.jsx)("span",{className:"count-numbers",children:r.total})]})]})}),(0,p.jsx)("div",{className:"col-12 col-md-5 mt-4",children:(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)("span",{style:{position:"absolute",top:-12,left:25,background:"#fff",padding:"0 10px",color:"#ccc"},children:"Selecciona un torneo"}),(0,p.jsx)("select",{className:"form-control",onChange:function(e){o((0,n.Z)((0,n.Z)({},r),{},{id:e.target.value})),l.current=e.target.value},value:l.current,children:c.map((function(e){return(0,p.jsx)("option",{value:e.id,children:e.name},e.id)}))})]})}),(0,p.jsx)("div",{className:"col-12 col-md-3 mt-4",children:(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)("span",{style:{position:"absolute",top:-12,left:25,background:"#fff",padding:"0 10px",color:"#ccc"},children:"Estatus"}),(0,p.jsxs)("select",{className:"form-control",onChange:function(e){o((0,n.Z)((0,n.Z)({},r),{},{id:0,status:e.target.value})),l.current=0},value:o.satus,children:[(0,p.jsx)("option",{value:"1",children:"Activo"}),(0,p.jsx)("option",{value:"2",children:"Archivado"})]})]})})]})]})})})})})},O=function(){var e=(0,s.useContext)(i.F),t=e.setScreen,a=e.setSearchTournaments,r=e.formData,l=e.setFormData,m=e.tournamentsContext.idClub,h=(0,s.useState)(1),f=(0,c.Z)(h,2),j=f[0],b=f[1],v=(0,s.useState)((0,n.Z)({},r.journals[0])),g=(0,c.Z)(v,2),N=g[0],y=g[1],w=function(e,t){var a=(0,n.Z)({},N);Object.keys(a).forEach((function(n){e.target.name===n&&(a[n][t]=e.target.value)})),y(a)},C=function(){var e=(0,o.Z)(d().mark((function e(){var s,i,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.usersTeams.sort((function(e,t){return e.team-t.team})).map((function(e,t){return{id:e.id,position:t+1}})),i=[],r.journals.forEach((function(e,t){var a=[];Object.keys(e).forEach((function(e){a.push([r.journals[t][e].date,r.journals[t][e].time])})),i[t]=a})),o=(0,n.Z)((0,n.Z)({},r.generals),{},{journals:i,players:s,club:m}),(0,x.lQ)({html:"Creando torneo"}),e.prev=5,e.next=8,(0,u.x)({endpoint:"/tournaments",method:"POST",body:o,json:!0});case 8:if(!e.sent.id){e.next=15;break}(0,x.NO)({icon:"success",title:"Torneo creado"}),t(4),l({generals:{},users:[],journals:[],totalSelected:0,usersTeams:[],totalUsersByTeam:[],activeTeam:0}),e.next=16;break;case 15:return e.abrupt("return",(0,x.sM)({icon:"error",title:"Ocurrio un error",text:"Error de comunucaci\xf3n con el servidor, intentelo m\xe1s tarde"}));case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(5),e.abrupt("return",(0,x.sM)({icon:"error",title:"Ocurrio un error",text:"Error de comunucaci\xf3n con el servidor, intentelo m\xe1s tarde"}));case 21:t(1),a(!0);case 23:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{type:"button",className:"btn btn-outline-dark me-2 mb-md-0 mb-2 d-flex align-items-center",onClick:function(){t(5)},children:[(0,p.jsx)("i",{className:"fa fa-2x fa-arrow-left me-2","aria-hidden":"true"})," Paso 3"]}),(0,p.jsx)("h4",{className:"text-center mb-1",children:" Define fechas y horarios paso 4 de 4 "}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-6 mt-3 d-flex justify-content-start",children:[(0,p.jsx)("h5",{className:"mt-3",children:"Jornada "}),(0,p.jsx)("input",{type:"number",className:"form-control",value:j,min:"1",max:r.generals.journals,onChange:function(e){b(e.target.value),y((0,n.Z)({},r.journals[parseInt(e.target.value)-1]))},style:{width:80,fontSize:20,textAlign:"center",marginLeft:4,marginRight:4}}),(0,p.jsxs)("h5",{className:"mt-3",children:[" de ",r.generals.journals]})]}),(0,p.jsx)("div",{className:"col-6 mt-3 d-flex justify-content-end",children:(0,p.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:C,style:{boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.22)"},children:" Finalizar"})})]}),(0,p.jsx)("hr",{}),(0,p.jsxs)("div",{className:"mt-3",children:[(0,p.jsx)("div",{className:"text-center mb-3",style:{fontSize:15},children:"Puedes definir fechas y horarios posteriormente"}),(0,p.jsxs)("div",{className:"position-relative",children:[(0,p.jsx)("span",{style:{position:"absolute",top:-12,left:25,background:"#fff",padding:"0 10px",color:"#ccc"},children:"Aplicaci\xf3n masiva"}),(0,p.jsx)("input",{type:"date",onChange:function(e){var t=(0,n.Z)({},N);Object.keys(t).forEach((function(a){t[a].date=e.target.value})),y(t)},style:{width:200,height:50,fontSize:16,textAlign:"center",marginLeft:4,marginRight:4}})]})]}),(0,p.jsx)("div",{className:"table-responsive",style:{padding:25},children:(0,p.jsxs)("table",{className:"table align-middle",style:{marginTop:30},children:[(0,p.jsx)("thead",{style:{background:"#098BCE",color:"#FFF",height:70,fontSize:15,verticalAlign:"middle",boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.52)",borderRadius:20},children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",style:{borderTopLeftRadius:20},children:"Cancha"}),(0,p.jsx)("th",{scope:"col",style:{borderTopRightRadius:20},children:"Horario"})]})}),(0,p.jsx)("tbody",{style:{boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.22)",borderBottomLeftRadius:20,borderBottomRightRadius:20},children:Object.keys(N).map((function(e,t){return(0,p.jsxs)("tr",{style:{verticalAlign:"middle"},children:[(0,p.jsxs)("th",{scope:"row",style:{paddingLeft:40},children:[" ",(0,p.jsxs)("span",{className:"badge bg-danger",style:{fontSize:25,marginTop:5},children:[" ",e," "]})," "]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("input",{type:"date",name:e,value:N[t+1].date,onChange:function(e){return w(e,"date")},className:"mb-md-0 mb-3",style:{width:120,height:50,fontSize:16,textAlign:"center",marginLeft:4,marginRight:4}}),(0,p.jsx)("input",{type:"time",name:e,value:N[t+1].time,onChange:function(e){return w(e,"time")},style:{width:120,height:50,fontSize:16,textAlign:"center",marginLeft:4,marginRight:4}})]})]},e)}))})]})})]})},z=function(){var e=(0,s.useContext)(i.F),t=e.setScreen,a=e.formData,r=e.setFormData,o=(0,s.useState)([]),l=(0,c.Z)(o,2),d=l[0],u=l[1];(0,s.useEffect)((function(){for(var e=[],t=1;t<=a.generals.courts;t++)e.push(t);u(e)}),[a.generals.courts]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{type:"button",className:"btn btn-outline-dark me-2 mb-md-0 mb-2 d-flex align-items-center",onClick:function(){return t(4)},children:[(0,p.jsx)("i",{className:"fa fa-2x fa-arrow-left me-2","aria-hidden":"true"})," Paso 2"]}),(0,p.jsx)("h4",{className:"text-center mb-1",children:" Agrupa a los jugadores en las canchas paso 3 de 4 "}),(0,p.jsx)("div",{className:"row mt-5",children:d.map((function(e){return(0,p.jsx)("div",{className:"col-md-3 col-sm-6",style:{marginBottom:50,position:"relative"},children:(0,p.jsx)("div",{style:{background:"#303641",padding:10,borderRadius:6,position:"relative",boxShadow:"-3px 3px 15px -2px rgba(0,0,0,0.52)",height:120,color:"#FFF"},children:(0,p.jsxs)("div",{className:"d-flex flex-column",children:[(0,p.jsxs)("span",{style:{position:"absolute",top:0,fontSize:20},children:[a.totalUsersByTeam[e-1]," ",(0,p.jsx)("span",{style:{fontSize:12},children:"jugadores"})]}),(0,p.jsx)("h1",{className:"text-center",children:e}),(0,p.jsxs)("button",{className:"btn btn-light",type:"button",onClick:function(){return function(e){r((0,n.Z)((0,n.Z)({},a),{},{activeTeam:e})),t(7)}(e)},children:["seleccionar jugadores ",(0,p.jsx)("i",{className:"fa fa-2x ".concat(a.totalUsersByTeam[e-1]===a.generals.players_by_court?"fa-check-circle text-success":"fa-clock text-warning"," me-2 "),"aria-hidden":"true"})]})]})})},e)}))}),(0,p.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,p.jsxs)("button",{type:"submit",className:"btn btn-outline-dark me-2 mb-md-0 mb-2 d-flex align-items-center",onClick:function(){var e=!1;if(a.totalUsersByTeam.forEach((function(t){t!==a.generals.players_by_court&&(e=!0)})),e)return(0,x.sM)({title:"Debes completar las canchas con ".concat(a.generals.players_by_court," jugadores")});(0,x.NO)({icon:"success",title:"Avance guardado"}),t(6)},children:[" Ir a paso 4 ",(0,p.jsx)("i",{className:"fa fa-2x fa-arrow-right ms-3","aria-hidden":"true"})]})})]})},B=function(){var e=(0,s.useContext)(i.F),t=e.setScreen,a=e.formData,r=e.setFormData,o=(0,s.useState)([]),l=(0,c.Z)(o,2),d=l[0],u=l[1],m=(0,s.useState)(""),h=(0,c.Z)(m,2),j=h[0],b=h[1],v=(0,s.useState)(0),g=(0,c.Z)(v,2),N=g[0],y=g[1];(0,s.useEffect)((function(){var e=0;a.usersTeams.forEach((function(t){t.team===a.activeTeam&&e++})),y(e)}),[a.usersTeams,a.activeTeam]);var w=function(e){var t=!1,s=a.usersTeams.map((function(n){if(n.id===e){var s=!n.select;return s&&N<parseInt(a.generals.players_by_court)?(n.team=a.activeTeam,n.select=s,y(N+1),a.totalUsersByTeam[a.activeTeam-1]+=1):!s&&N>=0?(n.team=0,n.select=s,y(N-1),a.totalUsersByTeam[a.activeTeam-1]-=1):t=!0,n}return n}));if(t)return(0,x.sM)({title:"".concat(a.generals.players_by_court," jugadores por cancha")});r((0,n.Z)((0,n.Z)({},a),{},{usersTeams:s}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{type:"button",className:"btn btn-outline-dark me-2 mb-md-0 mb-2 d-flex align-items-center",onClick:function(){return t(5)},children:[(0,p.jsx)("i",{className:"fa fa-2x fa-arrow-left me-2","aria-hidden":"true"})," Regresar"]}),(0,p.jsxs)("h4",{className:"text-center mb-1",children:[" Selecciona los jugadores del grupo ",(0,p.jsxs)("span",{className:"badge bg-danger",style:{fontSize:30,marginRight:10,marginLeft:5},children:[a.activeTeam," "]})," "]}),(0,p.jsxs)("div",{className:"row mt-3",children:[(0,p.jsx)("div",{className:"col-md-4",children:(0,p.jsxs)("div",{className:"row card-counter primary",children:[(0,p.jsx)("div",{className:"col-4",children:(0,p.jsx)("i",{className:"fa fa-users fa-3x"})}),(0,p.jsxs)("div",{className:"col-8",children:[(0,p.jsx)("span",{className:"count-name",children:"Jugadores: "}),(0,p.jsx)("span",{className:"count-numbers",children:j?d.length:a.usersTeams.length})]})]})}),(0,p.jsx)("div",{className:"col-8 mt-5",children:(0,p.jsx)("input",{type:"text",placeholder:"Buscar jugador...",className:"form-control",value:j,onChange:function(e){b(e.target.value);var t=new RegExp("^.*".concat(e.target.value,".*$"),"i");u((0,_.Z)(a.usersTeams.filter((function(e){return e.name.match(t)}))))}})})]}),(0,p.jsxs)("div",{className:"row mt-5",children:[(0,p.jsxs)("h4",{className:"text-center mb-5",children:[" ",N," seleccionados de ",a.generals.players_by_court]}),j?d.map((function(e){return 0===e.team||e.team===a.activeTeam?(0,p.jsx)(F,(0,n.Z)((0,n.Z)({},e),{},{changeSelectSingle:w}),e.id):(0,p.jsx)(p.Fragment,{})})):a.usersTeams.map((function(e){return 0===e.team||e.team===a.activeTeam?(0,p.jsx)(F,(0,n.Z)((0,n.Z)({},e),{},{changeSelectSingle:w}),e.id):(0,p.jsx)(p.Fragment,{})})),(0,p.jsx)(f.t,{hight:200})]})]})},D=(0,s.memo)((function(){var e=(0,s.useContext)(r.X).setContext,t=(0,s.useContext)(i.F),a=t.screen,o=t.searchTournaments;(0,s.useEffect)((function(){e((function(e){return(0,n.Z)((0,n.Z)({},e),{},{titlePage:"Torneos"})}))}),[e]);return(0,p.jsxs)("div",{className:"main-content",children:[o&&(0,p.jsx)(A,{}),(0,p.jsx)("div",{className:"main-content-inner",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-lg-12 mt-3",children:(0,p.jsx)("div",{className:"card",children:(0,p.jsx)("div",{className:"card-body",children:function(){switch(a){case 1:return(0,p.jsx)(j,{});case 2:return(0,p.jsx)(v,{});case 3:return(0,p.jsx)(Z,{});case 4:return(0,p.jsx)(E,{});case 5:return(0,p.jsx)(z,{});case 6:return(0,p.jsx)(O,{});case 7:return(0,p.jsx)(B,{});default:return(0,p.jsx)("h1",{children:"No project match"})}}()})})})})})]})})),L=D}}]);
//# sourceMappingURL=400.462d2018.chunk.js.map